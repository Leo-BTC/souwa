var gpu_id=getUrlVars().gpu_id,chart_filters={Network:["All","ResNet50","ResNet152","Inception3","Inception4","VGG16","AlexNet","SSD300"],Precision:["All","FP32","FP16"],NUM_GPU:[1,2,4,8,16]};function create_chart_filter(name,items){var content='<div class="filter">';content+='<div class="filterName">'+name+":</div>",content+='<div class="btn-toolbar btn-group-toggle" data-toggle="buttons">';for(var i=0;i<items.length;i++){var v=-1==items[i]?"All":items[i];0==i?(content+='<label class="btn btn-outline-secondary active">',content+='<input class="chart_radio" type="radio" name="chart_'+name+'" value="'+items[i]+'" autocomplete="off" checked>'+v):(content+='<label class="btn btn-outline-secondary">',content+='<input class="chart_radio" type="radio" name="chart_'+name+'" value="'+items[i]+'" autocomplete="off">'+v),content+="</label>"}content+="</div>",content+="</div>",content+="</div>",document.getElementById("chart_filter").innerHTML+=content}function get_chart_filters(){var selected_chart_filters={};for(var key in chart_filters)if(chart_filters.hasOwnProperty(key)){var vel=document.querySelector('input[name="chart_'+key+'"]:checked');if(vel&&"number"==typeof chart_filters[key][0]){var v=Number(vel.value);selected_chart_filters[key]=v}}return selected_chart_filters}function generate_placeholder(){var content="";content+='<div id="content">',content+='<div class="title">',content+="  <h1>"+gpu_id+" Performance Summary</h1>",content+="  </div>",content+='  <div class="filterGroup fontBigger" id="chart_filter">',content+="  </div>",content+='  <div id="chart_div">',content+="  </div>",content+="</div>",document.body.innerHTML+=content}function drawChart(){for(var selected_chart_filters=get_chart_filters(),data_chart=$.grep(data,(function(n,i){var select=!0;return"All"!==selected_chart_filters.Network&&(select=n.Network===selected_chart_filters.Network),select&&"All"!==selected_chart_filters.Precision&&(select=n.Precision===selected_chart_filters.Precision),select&&(select=n.NUM_GPU===selected_chart_filters.NUM_GPU),select})),reduced_data_chart=[],distinct_record=[...new Set(data_chart.map((x=>x.GPU+"_"+x.PCIeTopo+"_"+x.NVlink)))],idx_gpu=0;idx_gpu<distinct_record.length;idx_gpu++){var data_gpu=$.grep(data_chart,(function(n,i){return n.GPU+"_"+n.PCIeTopo+"_"+n.NVlink===distinct_record[idx_gpu]})),num_record=data_gpu.length,gpu_name=data_gpu[0].GPU,nvlink_name=data_gpu[0].NVlink,pcie_topo=data_gpu[0].PCIeTopo;if(0!==nvlink_name)var record_name=gpu_name+"_PCIeTopo-"+pcie_topo+"_NVlink-"+nvlink_name;else record_name=gpu_name+"_PCIeTopo-"+pcie_topo;for(var sum_speedup=0,idx_record=0;idx_record<num_record;idx_record++)sum_speedup+=data_gpu[idx_record].Speedup;var record={RECORD_NAME:record_name,GPU_SHORT:gpu_name,SPEEDUP:(sum_speedup/num_record).toFixed(2)};reduced_data_chart.push(record)}var num_iterms=reduced_data_chart.length;reduced_data_chart.sort((function(a,b){return b.SPEEDUP-a.SPEEDUP}));var google_data=new google.visualization.DataTable;google_data.addColumn("string","RECORD_NAME"),google_data.addColumn("number","Speedup"),google_data.addColumn({type:"string",role:"style"}),google_data.addRows(num_iterms);for(var i=0;i<num_iterms;i++)google_data.setCell(i,0,reduced_data_chart[i].RECORD_NAME),google_data.setCell(i,1,reduced_data_chart[i].SPEEDUP),reduced_data_chart[i].GPU_SHORT.toString()===gpu_id?google_data.setCell(i,2,"color: #76A7FA"):google_data.setCell(i,2,"opacity: 0.2");new google.visualization.BarChart(document.getElementById("chart_div")).draw(google_data,{title:"Training Speedup w.r.t a Single 1080Ti",width:800,height:500,hAxis:{viewWindow:{min:0}},bar:{groupWidth:20},legend:{position:"none"},chartArea:{left:330,top:50,backgroundColor:"#FFFFFF"}})}google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(drawChart);
//# sourceURL=https://cdn2.hubspot.net/hub/21998649/hub_generated/template_assets/88707359003/1716921815329/LambdaLabs/static/js/benchmarks/summary.js